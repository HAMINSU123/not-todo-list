<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.nottodolist.Data.DataMapper">
<select id = "selWeeklyMoney">
    select C.name,B.save_cost saveCost
    from t_use_list as A
    inner join t_monthly_goal as B
    on A.goal_id=B.goal_id
    inner join t_not_todo_list as C
    on C.not_todo_id=B.not_todo_id
    where cost_category = 1 and date between DATE_SUB(CURDATE(),INTERVAL 7 DAY)and now()
</select>

    <select id = "selWeeklyTime">
        select C.name, B.save_cost saveCost
        from t_use_list as A
        inner join t_monthly_goal as B
        on A.goal_id=B.goal_id
        inner join t_not_todo_list as C
        on C.not_todo_id=B.not_todo_id
        where cost_category = 2 and date between DATE_SUB(CURDATE(),INTERVAL 7 DAY)and now()
    </select>

    <select id ="selMonthMoney">
        select sum(save_cost) saveCost
        from t_monthly_goal
        where cost_category = 1 and month_year = DATE_FORMAT(CURDATE(),'%Y-%m')
    </select>

    <select id ="selMonthTime">
        select sum(save_cost) saveCost
        from t_monthly_goal
        where cost_category = 2 and month_year = DATE_FORMAT(CURDATE(),'%Y-%m')
    </select>

    <select id="selLastMonthMoney">
        select sum(save_cost) saveCost
        from t_monthly_goal
        where cost_category = 1 and month_year = DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 1 MONTH), '%Y-%m')
    </select>

    <select id="selLastMonthTime">
        select sum(save_cost) saveCost
        from t_monthly_goal
        where cost_category = 2 and month_year = DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 1 MONTH), '%Y-%m')
    </select>

</mapper>